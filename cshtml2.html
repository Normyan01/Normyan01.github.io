<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>验证码验证</title>
    <script>
        // URL from which to fetch the 12-character code
        const url = 'https://normyan01.github.io/cshtml1';

        function fetchCode() {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    // Assume the 12-character code is the entire content of the URL
                    const code = data.trim().substring(0, 12);
                    console.log('Fetched code:', code);
                    // Store the fetched code in a global variable
                    window.currentCode = code;
                })
                .catch(error => console.error('Error fetching code:', error));
        }

        // Fetch the code every second
        setInterval(fetchCode, 1000);

        function verifyCode() {
            const userCode = document.getElementById('codeInput').value;
            const messageElement = document.getElementById('message');

            if (userCode === window.currentCode) {
                // If the code matches, remove the input elements and show "123"
                document.getElementById('verification').innerHTML = '123';
            } else {
                // If the code does not match, show an error message
                messageElement.textContent = 'incorrect verify code';
                messageElement.style.color = 'red';
            }
        }
    </script>
</head>
<body>
    <div id="verification">
        <label for="codeInput">输入验证码：</label>
        <input type="text" id="codeInput" maxlength="12">
        <button onclick="verifyCode()">验证</button>
        <p id="message"></p>
    </div>
</body>
</html>
